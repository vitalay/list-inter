import{g,q as m,o as y,c as f,b as _}from"./index.esm2017-9AJcat3r.js";import{d as h,u as v,r as a,m as C,a as V,i as c,b as P,F as S,f as b,o as w}from"./index-Bg7pnMgA.js";const x=c("h1",null,"Статистика",-1),D={class:"card flex justify-content-center"},F=h({__name:"PageStatistic",setup(B){const l=v(),u=g(),s=a([]),r=a(),n=a();C(async()=>{s.value=await d(),r.value=p(),n.value=i()});const d=async()=>{let e=m(f(u,`users/${l.userId}/interviews`),y("createdAt","desc"));return(await _(e)).docs.map(o=>o.data())},p=()=>{const e=getComputedStyle(document.body),t=[0,0,0];return s.value.forEach(o=>{o.result==="Offer"?t[0]++:o.result==="Refusal"?t[1]++:t[2]++}),{labels:["Оффер","Отказ","В процессе"],datasets:[{data:t,backgroundColor:[e.getPropertyValue("--cyan-500"),e.getPropertyValue("--orange-500"),e.getPropertyValue("--gray-500")],hoverBackgroundColor:[e.getPropertyValue("--cyan-400"),e.getPropertyValue("--orange-400"),e.getPropertyValue("--gray-400")]}]}},i=()=>({plugins:{legend:{labels:{cutout:"60%",color:getComputedStyle(document.documentElement).getPropertyValue("--text-color")}}}});return(e,t)=>{const o=b("app-chart");return w(),V(S,null,[x,c("div",D,[P(o,{type:"doughnut",data:r.value,options:n.value,class:"w-full md:w-30rem"},null,8,["data","options"])])],64)}}});export{F as default};
